--- linux-2.6.30/fs/squashfs/inode.c-	2009-09-02 23:15:41.000000000 +0700
+++ linux-2.6.30/fs/squashfs/inode.c	2009-09-02 23:15:54.000000000 +0700
@@ -32,6 +32,7 @@
 #include <linux/vmalloc.h>
 #include <linux/spinlock.h>
 #include <linux/smp_lock.h>
+#include <linux/sched.h>
 #include <linux/exportfs.h>
 
 #include "squashfs.h"
