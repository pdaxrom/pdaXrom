diff -Nur linux-2.6.18-orig/arch/arm/mach-pxa/corgi_lcd.c linux-2.6.18/arch/arm/mach-pxa/corgi_lcd.c
--- linux-2.6.18-orig/arch/arm/mach-pxa/corgi_lcd.c	2006-11-05 16:27:36.000000000 +0000
+++ linux-2.6.18/arch/arm/mach-pxa/corgi_lcd.c	2006-11-05 17:59:39.000000000 +0000
@@ -172,9 +172,11 @@
 }
 
 static int lcd_inited;
+static int lcd_last_mode;
 
 static void lcdtg_hw_init(int mode)
 {
+	lcd_last_mode = mode;
 	if (!lcd_inited) {
 		int comadj;
 
@@ -254,6 +256,12 @@
 	}
 }
 
+void lcdtg_hw_reinit(void)
+{
+	lcd_inited = 0;
+	lcdtg_hw_init(lcd_last_mode);
+}
+
 static void lcdtg_suspend(void)
 {
 	/* 60Hz x 2 frame = 16.7msec x 2 = 33.4 msec */
diff -Nur linux-2.6.18-orig/drivers/misc/Kconfig linux-2.6.18/drivers/misc/Kconfig
--- linux-2.6.18-orig/drivers/misc/Kconfig	2006-11-05 16:27:40.000000000 +0000
+++ linux-2.6.18/drivers/misc/Kconfig	2006-11-05 18:01:26.000000000 +0000
@@ -57,4 +57,8 @@
           To compile this driver as a module, choose M here: the module will
 	  be called tifm_7xx1.
 
+config SHARPSL_PARAM
+	bool "Device driver for SHARP SL parameters tuning"
+	depends on PXA_SHARPSL
+
 endmenu
diff -Nur linux-2.6.18-orig/drivers/misc/Makefile linux-2.6.18/drivers/misc/Makefile
--- linux-2.6.18-orig/drivers/misc/Makefile	2006-11-05 16:27:40.000000000 +0000
+++ linux-2.6.18/drivers/misc/Makefile	2006-11-05 18:01:47.000000000 +0000
@@ -8,3 +8,4 @@
 obj-$(CONFIG_LKDTM)		+= lkdtm.o
 obj-$(CONFIG_TIFM_CORE)       	+= tifm_core.o
 obj-$(CONFIG_TIFM_7XX1)       	+= tifm_7xx1.o
+obj-$(CONFIG_SHARPSL_PARAM)	+= sharpsl-param/
diff -Nur linux-2.6.18-orig/drivers/misc/sharpsl-param/Makefile linux-2.6.18/drivers/misc/sharpsl-param/Makefile
--- linux-2.6.18-orig/drivers/misc/sharpsl-param/Makefile	1970-01-01 00:00:00.000000000 +0000
+++ linux-2.6.18/drivers/misc/sharpsl-param/Makefile	2006-11-05 17:59:39.000000000 +0000
@@ -0,0 +1 @@
+obj-$(CONFIG_SHARPSL_PARAM) := sharpsl_param.o
diff -Nur linux-2.6.18-orig/drivers/misc/sharpsl-param/sharpsl_param.c linux-2.6.18/drivers/misc/sharpsl-param/sharpsl_param.c
--- linux-2.6.18-orig/drivers/misc/sharpsl-param/sharpsl_param.c	1970-01-01 00:00:00.000000000 +0000
+++ linux-2.6.18/drivers/misc/sharpsl-param/sharpsl_param.c	2006-11-05 17:59:39.000000000 +0000
@@ -0,0 +1,169 @@
+/*
+ * SHARPSL parameters tuning
+ *
+ * Copyright (C) 2006 Alexander Chukov <sash@pdaXrom.org>
+ *
+ */
+
+#include <linux/module.h>
+#include <linux/timer.h>
+#include <linux/init.h>
+#include <linux/kernel.h>
+#include <linux/apm_bios.h>
+#include <linux/delay.h>
+#include <linux/interrupt.h>
+#include <linux/platform_device.h>
+#include <linux/leds.h>
+
+#include <asm/hardware.h>
+#include <asm/mach-types.h>
+#include <asm/irq.h>
+#include <asm/apm.h>
+#include <asm/mach/sharpsl_param.h>
+
+extern void lcdtg_hw_reinit(void);
+
+static ssize_t show_comadj(struct device *dev, struct device_attribute *attr, char *buf)
+{
+	return sprintf(buf, "%d\n", sharpsl_param.comadj);
+}
+
+static ssize_t store_comadj(struct device *dev, struct device_attribute *attr, const char *buf, size_t count)
+{        
+	unsigned long val;
+
+	val = simple_strtoul(buf, NULL, 0);   
+	
+	sharpsl_param.comadj = val;
+	
+	lcdtg_hw_reinit();
+	
+	return count;
+}   
+
+static ssize_t show_phadadj(struct device *dev, struct device_attribute *attr, char *buf)
+{
+	return sprintf(buf, "%d\n", sharpsl_param.phadadj);
+}
+
+static ssize_t store_phadadj(struct device *dev, struct device_attribute *attr, const char *buf, size_t count)
+{        
+	unsigned long val;
+
+	val = simple_strtoul(buf, NULL, 0);   
+	
+	sharpsl_param.phadadj = val;
+
+	lcdtg_hw_reinit();
+	
+	return count;
+}   
+
+#if 0
+static ssize_t show_uuid(struct device *dev, struct device_attribute *attr, char *buf)
+{
+}
+static ssize_t store_uuid(struct device *dev, struct device_attribute *attr, const char *buf, size_t count)
+{        
+	return count;
+}   
+#endif
+
+static ssize_t show_touch(struct device *dev, struct device_attribute *attr, char *buf)
+{
+	return sprintf(buf, "%d\n", sharpsl_param.touch_xp);
+}
+
+static ssize_t store_touch(struct device *dev, struct device_attribute *attr, const char *buf, size_t count)
+{        
+	unsigned long val;
+
+	val = simple_strtoul(buf, NULL, 0);   
+	
+	sharpsl_param.touch_xp = val;
+	
+	return count;
+}   
+
+static ssize_t show_adadj(struct device *dev, struct device_attribute *attr, char *buf)
+{
+	return sprintf(buf, "%d\n", sharpsl_param.adadj);
+}
+
+static ssize_t store_adadj(struct device *dev, struct device_attribute *attr, const char *buf, size_t count)
+{        
+	unsigned long val;
+
+	val = simple_strtoul(buf, NULL, 0);   
+	
+	sharpsl_param.adadj = val;
+	
+	return count;
+}   
+
+DEVICE_ATTR(comadj, 0644, show_comadj, store_comadj);
+DEVICE_ATTR(phadadj,0644, show_phadadj,store_phadadj);
+//DEVICE_ATTR(uuid,   0644, show_uuid,   store_uuid);
+DEVICE_ATTR(touch,  0644, show_touch,  store_touch);
+DEVICE_ATTR(adadj,  0644, show_adadj,  store_adadj);
+
+static int __init sharpsl_param_probe(struct platform_device *pdev)
+{
+	device_create_file(&pdev->dev, &dev_attr_comadj);
+	device_create_file(&pdev->dev, &dev_attr_phadadj);
+//	device_create_file(&pdev->dev, &dev_attr_uuid);
+	device_create_file(&pdev->dev, &dev_attr_touch);
+	device_create_file(&pdev->dev, &dev_attr_adadj);
+
+	return 0;
+}
+
+static int sharpsl_param_remove(struct platform_device *pdev)
+{
+	device_remove_file(&pdev->dev, &dev_attr_comadj);
+	device_remove_file(&pdev->dev, &dev_attr_phadadj);
+//	device_remove_file(&pdev->dev, &dev_attr_uuid);
+	device_remove_file(&pdev->dev, &dev_attr_touch);
+	device_remove_file(&pdev->dev, &dev_attr_adadj);
+
+	return 0;
+}
+
+static struct platform_driver sharpsl_param_driver = {
+	.probe		= sharpsl_param_probe,
+	.remove		= sharpsl_param_remove,
+	.driver		= {
+		.name		= "sharpsl-param",
+	},
+};
+
+static struct platform_device *sharpsl_param_device;
+
+static int __init sharpsl_param_init(void)
+{
+	int ret;
+	
+	ret = platform_driver_register(&sharpsl_param_driver);
+	if (!ret) {
+	    sharpsl_param_device = platform_device_alloc("sharpsl-param", -1);
+	    if (!sharpsl_param_device) {
+ 		platform_driver_unregister(&sharpsl_param_driver);
+		return -ENOMEM;
+	    }
+
+    	    ret = platform_device_add(sharpsl_param_device);
+
+	    if (ret)
+		platform_device_put(sharpsl_param_device);
+	}
+	return ret;
+}
+
+static void __exit sharpsl_param_exit(void)
+{
+	platform_device_unregister(sharpsl_param_device);
+ 	platform_driver_unregister(&sharpsl_param_driver);
+}
+
+module_init(sharpsl_param_init);
+module_exit(sharpsl_param_exit);
