--- s/depmod/depmod.c.orig	2006-12-09 14:18:00.000000000 +0600
+++ s/depmod/depmod.c	2006-12-09 14:18:28.000000000 +0600
@@ -1232,7 +1232,7 @@
 
 		for (ksym = ksyms; so_far < nksyms; ++so_far, ksym++) {
 			if (strncmp((char *)ksym->name, "GPLONLY_", 8) == 0)
-				((char *)ksym->name) += 8;
+				ksym->name = (char *)ksym->name + 8;
 			assert(n_syms < MAX_MAP_SYM);
 			symtab[n_syms++] = addsym((char *)ksym->name, mod, SYM_DEFINED, 0);
 		}
